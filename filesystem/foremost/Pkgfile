# $Id: Pkgfile,v 1.15 2007/05/09 21:02:55 roman Exp $
#
# Description: A tool that recovers some files from drives or disk images.
#  Foremost is a console program that recovers files based on their headers,
#  footers, and internal data structures. This process is commonly referred
#  to as data carving. Foremost can work on image files, such as those
#  generated by dd, Safeback, Encase, etc., or directly on a drive. The
#  headers and footers can be specified by a configuration file, or you can
#  use command line switches to specify built-in file types. These built-in
#  types look at the data structures of a given file format, allowing for
#  a more reliable and faster recovery. It was originally developed by the
#  United States Air Force Office of Special Investigations and The Center
#  for Information Systems Security Studies and Research.
# URL: http://foremost.sourceforge.net/
# Maintainer: Roman Senn <rs@adfinis.com>
# Depends on:

name=foremost
version=1.5
release=1
source=(http://foremost.sourceforge.net/pkg/foremost-$version.tar.gz
        foremost-1.5-config.patch)

build()
{
  cd foremost-$version

  patch -N -p1 -i $SRC/foremost-1.5-config.patch

  install -d $ROOT/{bin,man/man1,etc}

  make \
    RAW_CC="${CC-cc} -static" \
    RAW_FLAGS="$CFLAGS -DVERSION='\"$version\"'" \
    BIN="$ROOT/bin" \
    MAN="$ROOT/man/man1" \
    CONF="$ROOT/etc" \
    all install
}
